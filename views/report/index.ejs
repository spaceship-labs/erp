<script type='text/javascript'>
    window.content = <%- JSON.stringify(_content) %>;
	window.interactions = <%- JSON.stringify(interactions) %>;
</script>
<div ng-controller='reportCTL' class='order-index' id="Reports">
    <div id="cargando-elementos" class='ng-cloak' ng-cloak><img src="/images/loaders/images-cm.gif"></div>
    <div class='ng-cloak' ng-cloak>
	<div class='row'>
		<div class="textbutton col-sm-6 col-md-6 col-xs-12">
            <a class='pull-right btn btn-primary full-sm' href="/report/totalsreport"><i class='fa fa-download'></i> Exportar montos</a>
			<span uib-dropdown class='dropdown pull-right full-sm'>
                <a uib-dropdown-toggle class='btn btn-primary full-width'><i class='fa fa-files-o'></i> Reportes</a>
                <ul role='menu' class='dropdown-menu' ng-init="SelectReport(interactions.reportsList[0].key)">
                    <li><a ng-repeat="r in interactions.reportsList" ng-click="SelectReport(r.key)" ng-bind="r.name"></a></li>
                </ul>
            </span>
            <div class='clear'></div>
		</div>
        <div class="textbutton col-sm-6 col-md-6 col-xs-12">
            <span uib-dropdown class='dropdown pull-right full-sm'>
                <a uib-dropdown-toggle class='btn btn-primary full-width'><i class='fa fa-filter'></i> <%= __('gral_filters')%></a>
                <ul role='menu' class='dropdown-menu'>
                    <li ng-repeat="f in filtersArray">
                        <a ng-click="openFilter(f)" ng-class='!f.active?"inactive":""'>{{f.label}}</a>
                    </li>
                </ul>
            </span>
            <a ng-click='resetFilter()' class='btn btn-primary pull-right full-sm'><i class='fa fa-refresh'></i> <%= __('gral_reset')%></a>
        </div>
	</div>
        <%- partial('partial/filters') -%> 
        <div class='row'>
            <div class='col-md-12'>
                <report-generator object="theReport"></report-generator>
            </div>
        </div>
    </div>
</div>