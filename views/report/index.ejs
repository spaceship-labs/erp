<script type='text/javascript'>
    window.content = <%- JSON.stringify(_content) %>;
	window.interactions = <%- JSON.stringify(interactions) %>;
</script>
<div ng-controller='reportCTL' class='order-index' id="Reports">
    <div id="cargando-elementos" class='ng-cloak' ng-cloak><img src="/images/loaders/images-cm.gif"></div>
    <div class='ng-cloak' ng-cloak>
	<div class='row'>
		<div class="textbutton col-sm-6 col-md-6 col-xs-12">
            <a data-toggle="modal" data-target="#exportMKP" class='pull-right btn btn-primary full-sm'><i class='fa fa-download'></i> Exportar CSV</a>
			<span uib-dropdown class='dropdown pull-right full-sm'>
                <a uib-dropdown-toggle class='btn btn-primary full-width'><i class='fa fa-files-o'></i> Reportes</a>
                <ul role='menu' class='dropdown-menu' ng-init="SelectReport(interactions.reportsList[0].key)">
                    <li>
                        <a ng-repeat="r in interactions.reportsList" ng-click="SelectReport(r.key)" ng-bind="r.name"></a>
                        <!--<a ng-click="SelectReport('transfer_gral')">Reporte Traslados (Gral.)</a>
                        <a ng-click="SelectReport('transfer_by_agency')">Reporte Traslados (by Agency)</a>
                        <a ng-click="SelectReport('transfer_by_service')">Reporte Traslados (by Service)</a>
                        <a ng-click="SelectReport('transfer_by_provider')">Reporte Traslados (by Provider)</a>
                        <a ng-click="SelectReport('tours_gral')">Reporte Tours (Gral.)</a>
                        <a ng-click="SelectReport('tours_by_user')">Reporte Tours (by User)</a>
                        <a ng-click="SelectReport('tours_by_provider')">Reporte Tours (by Provider)</a>
                        <a ng-click="SelectReport('tours_by_agency')">Reporte Tours (by Agency)</a>
                        <a ng-click="SelectReport('tours_by_hotel')">Reporte Tours (by Hotel)</a>
                        <a ng-click="SelectReport('tours_by_payment_method')">Reporte Tours (by Payment)</a>
                        <a>Reportes Detallados</a>
                        <a ng-click="SelectReport('tours_by_user_list')">Reporte Tours Detallado (by User)</a>
                        <a ng-click="SelectReport('tours_by_provider_list')">Reporte Tours Detallado (by Provider)</a>
                        <a ng-click="SelectReport('tours_by_agency_list')">Reporte Tours Detallado (by Agency)</a>
                        <a ng-click="SelectReport('tours_by_hotel_list')">Reporte Tours Detallado (by Hotel)</a>
                        <a ng-click="SelectReport('tours_by_payment_method_list')">Reporte Tours Detallado (by Payment)</a>
                        <a ng-click="SelectReport('tours_cupon_by_user')">Reporte Tours Cupón (by User)</a>
                        <a ng-click="SelectReport('tours_commision_by_cupon')">Reporte Tours Comisión (by User)</a>-->
                    </li>
                </ul>
            </span>
            <div class='clear'></div>
		</div>
        <div class="textbutton col-sm-6 col-md-6 col-xs-12">
            <span uib-dropdown class='dropdown pull-right full-sm'>
                <a uib-dropdown-toggle class='btn btn-primary full-width'><i class='fa fa-filter'></i> <%= __('gral_filters')%></a>
                <ul role='menu' class='dropdown-menu'>
                    <li ng-repeat="f in filtersArray">
                        <a ng-click="openFilter(f)" ng-class='!f.active?"inactive":""'>{{f.label}}</a>
                    </li>
                </ul>
            </span>
            <a ng-click='resetFilter()' class='btn btn-primary pull-right full-sm'><i class='fa fa-refresh'></i> <%= __('gral_reset')%></a>
        </div>
	</div>
        <%- partial('partial/filters') -%> 
        <div class='row'>
            <div class='col-md-12'>
                <report-generator object="theReport"></report-generator>
            </div>
        </div>
    </div>
</div>