<script type='text/javascript'></script>
<div ng-controller='orderQuickCTL' class='ng-cloak quickForm'>
    <div class='row'>
        <div class='col-sm-12 col-md-6 col-lg-6'>
            <a class="btn btn-primary pull-right full-sm" ng-click="saveAll()"><i class='fa fa-save'></i> <%= __('order-reservar')%> </a>
            <a class='btn btn-primary pull-right full-sm' ng-click="resetForm(false)" ><i class='fa fa-eraser'></i> Limpiar campos</a>
            <div class='clear'></div>
        </div>
    </div><br>
    <!-- Tour section -->
    <div class='row'>
        <form class='stdform stdform2 col-md-12 widgetbox' action='' name='' method='post'>
            <h4 class="widgettitle"><i class='fa fa-car'></i> <%= __('order-reservar-tras')%></h4>
            <div class='widgetcontent nopadding'>
                <div class='row'>
                    <!-- Column 1 -->
                    <div class='col-md-6'>
                        <p>Nombre completo*</p>
                        <p><input tabindex='' type='text' name="name" ng-model="client.name" ng-required="true" required>
                        </p>
                        <p><%= __('order-hotel')%>*</p>
                        <p><input tabindex='' type="text" class="form-control" 
                            placeholder="<%= __('order-hotel')%>"
                            ng-model="transfer.hotel" 
                            typeahead-editable='true'
                            typeahead="obj as obj.name for obj in getHotels($viewValue)" 
                            required="true" required ></p>
                        <p>Tour *(por código)</p>
                        <p><input tabindex='' type="text" class="form-control" 
                            placeholder="Tour"
                            ng-model="transfer.tour" 
                            typeahead-editable='true'
                            typeahead="obj as obj.name for obj in getTours($viewValue)" 
                            required="true" required ></p>
                        <p>Fecha de Tour*</p>
                        <p>
                            <span class='input-group calendar-container'>
                                <input tabindex='19' is-open="open[0]" ng-model='transfer.arrival_date' id="arrival-date" datepicker-popup min-date="DatepickerOptions.minDate" ng-change='getpickuptime()' required="true" required />
                                <span class="input-group-btn">
                                    <button tabindex='18' type="button" class="btn btn-default" ng-click="open($event,0)"><i class="fa fa-calendar"></i></button>
                                </span>
                            </span>
                        </p>
                        <p>Lugar de salida*</p>
                        <p><input tabindex='' type="text" class="form-control" 
                            ng-model="transfer.departurePlace" required="true" required ></p>
                        <p>Agencia: </p>
                        <p><select tabindex='1' class='outerSelect' ng-model='thecompany' ng-options="obj as obj.name for obj in companies" ></select></p>
                    </div>
                    <!-- Column 2 -->
                    <div class='col-md-6'>
                        <p>Cupón</p>
                        <p><input tabindex='' type="text" class="form-control" 
                            ng-model="transfer.controlCode" ></p>
                        <div class='row'>
                            <div class='col-md-6 col-xs-6'>
                                <p>Pax Adultos</p>
                                <p><select tabindex='' ng-change="updatePriceTransfer()" ng-options='obj for obj in pax' ng-model='transfer.pax' required="true" required ></select></p>
                            </div>
                            <div class='col-md-6 col-xs-6'>
                                <p>Pax Niños</p>
                                <p><select tabindex='' ng-change="updatePriceTransfer()" ng-options='obj for obj in kidPax' ng-model='transfer.kidPax' ></select></p>
                            </div>
                        </div>
                        <p><%= __('order_room')%></p>
                        <p><input tabindex='' type='text' ng-model="transfer.room" name='room' required="true" required /></p>
                        <p>Confirmación</p>
                        <p><input tabindex='' type="text" class="form-control" 
                            ng-model="transfer.confirmationCode" ></p>
                        <p>Hora de Tour</p>
                        <p><input tabindex='' type="text" class="form-control" 
                            ng-model="transfer.departureTime" required="true" required ></p>
                        <p><%= __('order-tarifa')%></p>
                        <p> <span>{{transfer.fee || 0}}</span> </p>
                    </div>
                </div><!-- Termina sección lugares -->
                <h4 class="widgettitle">Información de pago</h4>
                <div class='row'>
                    <div class='col-md-6'>
                        <p><%= __('order-pago')%></p>
                        <p><select tabindex='30' ng-options='obj as obj.name for obj in hrevPayment' ng-model='transfer.payment_method' ></select></p>
                        <div ng-show="transfer.payment_method.handle=='creditcard'">
                            <p><%= __('order-autorizacion')%></p>
                            <p><input tabindex='31' type='text' name='autorization_code' ng-model="transfer.autorization_code" /></p>
                        </div>
                    </div>
                    <div class='col-md-6'>
                        <p>Moneda</p>
                        <p><select tabindex='32' ng-options="c as c.name for c in thecompany.currencies" name='currency' ng-model='transfer.currency' ng-change='updatePriceTransfer()' ></select></p>
                    </div>
                </div>
                <h4 class="widgettitle">Notas</h4>
                <p><textarea tabindex='29' ng-model="transfer.notes"></textarea></p>
            </div>
            <div class="clearfix"></div>
        </form>
    </div>
    <div class='row'>
        <div class='col-md-12'>
            <a tabindex='33' class="btn btn-primary btn-big pull-right full-sm" ng-click="saveAll()"><i class='fa fa-save'></i> <%= __('order-reservar')%> </a>
            <a class='btn btn-primary btn-big pull-right full-sm' ng-click="resetForm(false)" ><i class='fa fa-eraser'></i> Limpiar campos</a>
        </div>
    </div>
    <div id='popup_overlay' class='ng-hide ng-cloak' ng-hide="!alertMessage.show"></div>
    <div id='popup_container' class='alert-warning ng-hide ng-cloak' ng-class="alertMessage.classType" ng-hide="!alertMessage.show">
        <h1 id="popup_title">{{alertMessage.title || 'Error en la orden'}}</h1>
        <div id="popup_content" class="alert" ng-show="alertMessage.show" >
            <div id="popup_message" ng-bind="alertMessage.message"></div>
            <div id="popup_panel">
                <a ng-repeat="b in alertMessage.buttons" ng-click="b.action()" id="" class='btn btn-primary' ng-bind="b.label"></a>
            </div>
        </div>
    </div>
    <div custom-message messages="customMessages"></div>
</div>
<div id="cargando-elementos" class="ng-cloak">
    <img src="/images/loaders/images-cm.gif">
</div>